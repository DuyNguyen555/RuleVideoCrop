1. Tìm vùng ROI
- Xác định vùng ROI
- Crop vùng ROI
- Resize vùng ROI

2. Xác định thanh màu cam
- Mỗi Resize vùng ROI sẽ được chuyển đổi sang không gian màu HSV.
- Áp dụng ngưỡng màu để tìm ra các vùng có màu cam.
- Gộp các đường viền liên quan để xác định chính xác vị trí của thanh màu cam trong khung hình.
- Tìm vị trí 4 điểm Resize vùng ROI rồi suy ngược lại tìm vị trí 4 điểm vùng ROI chưa resize
- Cắt ra vùng ảnh nhỏ hơn từ vùng ROI để tập trung xử lý.

3. Quét QRcode
- Chuyển vùng đã cắt sang kênh màu gray
- Dùng pybar để quét vùng vừa cắt

4.Logic crop video và đổi tên
- Phát hiện hướng di chuyển (Up/Down)
  + Sử dụng MotionDetector để xác định pallet đang đi lên hay xuống.
  + Nếu có hướng hợp lệ, kích hoạt quá trình crop ảnh.
- Quy tắc crop
    Down:
        + Lưu 1 ảnh ngay khi bắt đầu di chuyển.
        + Lưu thêm 1 ảnh khi thanh màu cam đi qua vùng ngưỡng (y_threshold_up_above < bar_p < y_threshold_up_below).
        + Sau khoảng CROP_2_COOLDOWN_DOWN frame, lưu thêm 1 ảnh nữa.
    Up:
        + Lưu 1 ảnh ngay khi bắt đầu di chuyển.
        + Lưu thêm 1 ảnh khi thanh màu cam đi qua vùng ngưỡng.
        + Sau khoảng CROP_2_COOLDOWN_UP frame, lưu thêm 1 ảnh nữa.
        + Nếu đi lên mà không thấy thanh màu cam trong nhiều frame liên tiếp (UP_NO_BAR_MAX_FRAMES), sẽ lưu ảnh "timeout".
        + Quản lý QR pair (đuôi 1/2)
        + Nếu chỉ quét được 1 QR (đuôi 1 hoặc 2), hệ thống sẽ chờ trong một số frame để tìm nốt QR còn lại.
        + Nếu quá hạn mà không tìm thấy, hệ thống tự sinh mã còn thiếu để đảm bảo có đủ cặp.
        + Danh sách QR sẽ được sắp xếp tăng/giảm theo hướng di chuyển.
        + Đổi tên và lưu trữ
        + Khi đã có 2 ảnh crop + mã QR hợp lệ, gọi rename_pair_from_queue() để đổi tên ảnh theo đúng format:
            <pallet_seq>-<qr_code>_<floor>

======================================================
Lưu ý: để có thể hoạt động tốt nhất thì cam vận hành phải ổn định
- Tốc độ chạy phải đều
- Không zoom in hay zoom out trong lúc chạy

Hiện tại mới test 1 video 1p
Trong log_time.csv
- frame: số frame thứ n đang duyệt qua
- read_ms: thời gian đọc frame
- proc_ms: thời gian xử lý frame
- total_ms: tổng thời gian chạy khi xử lý 1 frame